From: Wookey <wookey@debian.org>
Date: Tue, 6 Dec 2016 21:14:03 +0000
Subject: Upstream has local ltdl embedded - remove it

Embedded libraries are wrong and bad. Libtool doubly so :-)
---
 Makefile.am  |  2 +-
 configure.ac | 12 +++---------
 2 files changed, 4 insertions(+), 10 deletions(-)

diff --git a/Makefile.am b/Makefile.am
index bee90e8..c219027 100644
--- a/Makefile.am
+++ b/Makefile.am
@@ -10,7 +10,7 @@
 # WITHOUT ANY WARRANTY, to the extent permitted by law; without even the
 # implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
 #
-SUBDIRS = libglibc libutil libparser libltdl plugin-factory
+SUBDIRS = libglibc libutil libparser plugin-factory
 if !USE_DB185_COMPAT
         SUBDIRS += libdb
 endif
diff --git a/configure.ac b/configure.ac
index 40d3b34..e61b275 100644
--- a/configure.ac
+++ b/configure.ac
@@ -47,14 +47,9 @@ AM_PATH_PYTHON([2.6],,[PYTHON="/usr/bin/env python"])
 AC_GNU_SOURCE
 
 LT_PREREQ([2.2.6b])
-LT_CONFIG_LTDL_DIR([libltdl])
-dnl
-dnl Because autoreconf up to version 2.59 doesn't know LT_INIT,
-dnl we use the old name AC_PROG_LIBTOOL.
-dnl
-AC_LIBTOOL_DLOPEN
-AC_PROG_LIBTOOL
-LTDL_INIT([recursive])
+LT_CONFIG_LTDL_DIR([/usr/share/libtool])
+LT_INIT([dlopen,disable-static])
+LTDL_INIT
 
 dnl Checks for libraries.
 
@@ -402,6 +397,5 @@ AC_CONFIG_FILES([Makefile
 	libparser/Makefile
 	plugin-factory/Makefile
 	plugin-factory/pygments_parser.py
-	libltdl/Makefile
 ])
 AC_OUTPUT
